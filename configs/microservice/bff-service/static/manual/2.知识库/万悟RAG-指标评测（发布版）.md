# 万悟RAG-指标评测（发布版）

### MultiHopRAG 数据集简介

**MultiHopRAG** 是一个专门用于评估检索增强生成（RAG）系统在**多跳推理**（multi-hop reasoning）能力方面的高质量基准数据集。它聚焦于需要跨越多个文档、整合多个事件或事实才能回答的复杂问题，尤其强调**事件之间的逻辑关系、时序依赖和属性比较**。

该数据集通常构建于富含叙事结构的领域（如新闻、历史、传记或维基百科事件），每个问题都要求模型：

*   从多个来源中检索相关信息；
    
*   理解不同事件之间的关联；
    
*   进行跨事件的推理（而非单文档问答）；
    
*   在信息不足时拒绝作答（避免幻觉）。
    

### 四类评测 Query 评估维度说明

| **评测指标** | **中文翻译** | **评估维度说明** |
| --- | --- | --- |
| **i) Inference Query**: Demands logical deduction spanning multiple events. | **i) 推理型查询**：要求对多个事件进行逻辑推导。 | 评估系统能否基于分散在不同文档中的多个事实，通过**逻辑链条**（如因果、条件、蕴含）得出结论。例如：“某政策实施后，为何第二年失业率下降？” 需结合政策内容、经济数据、专家分析等多个事件推理。 |
| **ii) Comparison Query**: Entails comparing event attributes. | **ii) 比较型查询**：涉及对事件属性的对比。 | 测试系统是否能提取并**横向比较不同事件的关键属性**（如时间、地点、参与方、影响程度等）。例如：“A 公司和 B 公司的 IPO 募资规模哪个更大？” 需分别检索两家公司的上市信息并比较数值。 |
| **iii) Null Query**: Tests the system’s ability to correctly identify when no conclusive answer is available. | **iii) 无效查询**（无答案查询）：检验系统在无法得出确定答案时能否正确识别。 | 考察系统**拒绝回答的能力**（avoiding hallucination）。当检索结果矛盾、信息缺失或问题本身无解时，系统应返回“无法确定”而非编造答案。这是衡量 RAG **可靠性与安全性**的关键指标。 |
| **iv) Temporal Query**: Evaluates understanding of temporal relations among events. | **iv) 时序型查询**：评估对事件间时间关系的理解 | 测试系统能否准确捕捉事件的**先后顺序、持续时间、并发性或周期性**。例如：“在 X 事件发生之前，Y 事件是否已经结束？” 要求模型建立清晰的时间线并理解“before/after/during”等时序语义。 |

**万悟RAG及GraphRAG两种模式在权威公开评测集MutiHop-RAG数据集上完成检索召回性能指标评测**：

| **MultiHopRAG数据集RAG检索效果评测结果**（粗体：最优指标，下划线：次优指标） |  |  |  |  |
| --- | --- | --- | --- | --- |
| **Query Type** | **Method** | **Relevancy** | **Recall** | **F1值** |
| **Inference Query**<br>**（****推理型查询****）** | Dify-RAG | 0.6786 | 0.5671 | 0.6179 |
|  | 万悟-RAG | 0.922 | 0.8001 | 0.8567 |
|  | 开源-LightRAG | ++0.9414++ | ++0.8316++ | ++0.8831++ |
|  | 万悟-GraphRAG | **0.9676** | **0.8453** | **0.9023** |
| **Comparison Query**<br>**（****比较型查询****）** | Dify-RAG | 0.4378 | 0.5475 | 0.4865 |
|  | 万悟-RAG | ++0.5975++ | 0.7638 | ++0.6705++ |
|  | 开源-LightRAG | 0.5297 | **0.8026** | 0.6382 |
|  | 万悟-GraphRAG | **0.6028** | ++0.7944++ | **0.6854** |
| **Null Query**<br>**（****无效查询****）** | Dify-RAG | 0.0482 | 0.011 | 0.0179 |
|  | 万悟-RAG | ++0.0735++ | 0.0413 | ++0.0529++ |
|  | 开源-LightRAG | 0.0226 | ++0.0436++ | 0.0298 |
|  | 万悟-GraphRAG | **0.0826** | **0.0956** | **0.0886** |
| **Temporal Query**<br>**（****时序型查询****）** | Dify-RAG | 0.2637 | 0.53 | 0.3522 |
|  | 万悟-RAG | ++0.3687++ | 0.7379 | 0.4917 |
|  | 开源-LightRAG | 0.3646 | ++0.7951++ | ++0.4999++ |
|  | 万悟-GraphRAG | **0.3938** | **0.7952** | **0.5267** |
| **Average**<br>**（平均）** | Dify-RAG | 0.3571 | 0.4387 | 0.3937 |
|  | 万悟-RAG | ++0.4904++ | 0.5857 | ++0.5338++ |
|  | 开源-LightRAG | 0.4645 | ++0.6182++ | 0.5304 |
|  | 万悟-GraphRAG | **0.5117** | **0.6326** | **0.5657** |

评测结果：

检索性能综合评价指标：F1值（检索准确率和召回率的调和平均值）

1）万悟RAG比Dify高：14%

2）万悟GraphRAG比Dify高：17.2%

3) 万悟GraphRAG比开源LightRAG高：3.5%